{"version":3,"sources":["./src/app/components/ultimate-course-index/angular-pro/routing/mail/containers/mail-folder/mail-folder.component.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/containers/mail-folder/mail-folder.component.html","./src/app/components/ultimate-course-index/angular-pro/routing/auth/auth.service.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-item/mail-item.component.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-item/mail-item.component.html","./src/app/components/ultimate-course-index/angular-pro/routing/mail/containers/mail-folder/mail-folder.resolve.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-view/mail-view.guard.ts","./src/app/components/ultimate-course-index/angular-pro/routing/service/mail.service.ts","./src/app/components/ultimate-course-index/angular-pro/routing/auth/auth.module.ts","./src/app/components/ultimate-course-index/angular-pro/routing/auth/auth.guard.ts","./src/app/components/ultimate-course-index/angular-pro/routing/routing-routing.module.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/mail.module.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-view/mail-view.component.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-view/mail-view.component.html","./src/app/components/ultimate-course-index/angular-pro/routing/routing.component.ts","./src/app/components/ultimate-course-index/angular-pro/routing/routing.component.html","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-app/mail-app.component.ts","./src/app/components/ultimate-course-index/angular-pro/routing/mail/components/mail-app/mail-app.component.html","./src/app/components/ultimate-course-index/angular-pro/routing/routing.module.ts"],"names":[],"mappings":"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","file":"routing-routing-module.js","sourcesContent":["import { Component, OnInit } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { pluck } from \"rxjs/operators\";\r\nimport { Mail } from \"../../components/models/mail.interface\";\r\n\r\n@Component({\r\n  selector: \"app-mail-folder\",\r\n  templateUrl: \"./mail-folder.component.html\",\r\n  styleUrls: [\"./mail-folder.component.css\"],\r\n})\r\nexport class MailFolderComponent implements OnInit {\r\n  data: Observable<any>;\r\n  title: Observable<any>;\r\n\r\n  constructor(private route: ActivatedRoute) {}\r\n\r\n  ngOnInit(): void {\r\n    this.data = this.route.data;\r\n    this.title = this.route.params.pipe(pluck(\"name\"));\r\n  }\r\n}\r\n","<p>mail-folder works!</p>\n<h2>{{ title | async }}</h2>\n<app-mail-item\n  *ngFor=\"let message of (data | async).messages\"\n  [message]=\"message\"\n></app-mail-item>\n","import { Injectable } from \"@angular/core\";\nimport { of } from \"rxjs\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AuthService {\n  user = { isAdmin: true };\n  checkPermissions() {\n    return of(this.user.isAdmin);\n  }\n\n  isLoggedIn() {\n    return of(true);\n  }\n}\n","import { Component, Input, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { Mail } from \"../models/mail.interface\";\n\n@Component({\n  selector: \"app-mail-item\",\n  templateUrl: \"./mail-item.component.html\",\n  styleUrls: [\"./mail-item.component.scss\"],\n})\nexport class MailItemComponent implements OnInit {\n  @Input() message: Mail;\n  constructor(private readonly router: Router) {}\n\n  ngOnInit(): void {}\n\n  navigateToMessage() {\n    this.router.navigate([\n      \"\",\n      { outlets: { pane: [\"message\", this.message.id] } },\n    ]);\n  }\n}\n","<p>mail-item works!</p>\r\n<a (click)=\"navigateToMessage()\" class=\"mail-item\" routerLinkActive=\"active\">\r\n  <!-- Existe dos opciones para navegar entre los outles, con routerLink y con router.navigate desde el componente -->\r\n  <!-- [routerLink]=\"['', { outlets: { pane: ['message', message.id] } }]\" -->\r\n  <h3>\r\n    {{ message.from }}\r\n    <span>{{ message.timestamp | date : \"shortTime\" }}</span>\r\n  </h3>\r\n  <p>{{ message.summary }}</p>\r\n</a>\r\n","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  Resolve,\r\n  RouterStateSnapshot,\r\n} from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MailService } from \"../../../service/mail.service\";\r\nimport { Mail } from \"../../components/models/mail.interface\";\r\n\r\n@Injectable()\r\nexport class MailFolderResolve implements Resolve<Mail[]> {\r\n  constructor(private mailService: MailService) {}\r\n\r\n  resolve(\r\n    route: ActivatedRouteSnapshot,\r\n    state: RouterStateSnapshot\r\n  ): Mail[] | Observable<Mail[]> | Promise<Mail[]> {\r\n    return this.mailService.getFolder(route.params.name);\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport {\r\n  ActivatedRouteSnapshot,\r\n  CanActivate,\r\n  CanDeactivate,\r\n  CanLoad,\r\n  Route,\r\n  RouterStateSnapshot,\r\n  UrlSegment,\r\n  UrlTree,\r\n} from \"@angular/router\";\r\nimport { Observable } from \"rxjs\";\r\nimport { MailViewComponent } from \"./mail-view.component\";\r\n\r\n@Injectable()\r\nexport class MailViewGuard implements CanDeactivate<MailViewComponent> {\r\n  constructor(private readonly component: MailViewComponent) {}\r\n  canDeactivate(\r\n    component: MailViewComponent,\r\n    currentRoute: ActivatedRouteSnapshot,\r\n    currentState: RouterStateSnapshot,\r\n    nextState?: RouterStateSnapshot\r\n  ):\r\n    | boolean\r\n    | UrlTree\r\n    | Observable<boolean | UrlTree>\r\n    | Promise<boolean | UrlTree> {\r\n    if (component.hasUnsavedChanges) {\r\n      return window.confirm(\"Are you sure you want to leave?\");\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { HttpClient } from \"@angular/common/http\";\r\nimport { Injectable } from \"@angular/core\";\r\nimport { map, pluck } from \"rxjs/operators\";\r\nimport { Mail } from \"../mail/components/models/mail.interface\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class MailService {\r\n  url = \"/assets/ultimate-course/angular-pro/routing-course/messages.json\";\r\n  constructor(private http: HttpClient) {}\r\n\r\n  async getFolder(folder: string): Promise<any> {\r\n    const response = await this.http\r\n      .get(`${this.url}?folder=${folder}`)\r\n      .pipe(\r\n        pluck(\"messages\"),\r\n        map((res: any) => {\r\n          return res.filter((message: Mail) => message.folder === folder);\r\n        })\r\n      )\r\n      .toPromise();\r\n    return response;\r\n  }\r\n}\r\n","import { NgModule } from \"@angular/core\";\nimport { AuthGuard } from \"./auth.guard\";\nimport { AuthService } from \"./auth.service\";\n\n@NgModule({\n  providers: [AuthService, AuthGuard],\n})\nexport class AuthModule {}\n","import { Injectable } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  CanLoad,\n  Route,\n  RouterStateSnapshot,\n  UrlSegment,\n  UrlTree,\n} from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { AuthService } from \"./auth.service\";\n\n@Injectable()\nexport class AuthGuard implements CanLoad, CanActivate {\n  constructor(private readonly authService: AuthService) {}\n  canLoad(\n    route: Route,\n    segments: UrlSegment[]\n  ):\n    | boolean\n    | UrlTree\n    | Observable<boolean | UrlTree>\n    | Promise<boolean | UrlTree> {\n    return this.authService.checkPermissions();\n  }\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot\n  ):\n    | boolean\n    | UrlTree\n    | Observable<boolean | UrlTree>\n    | Promise<boolean | UrlTree> {\n    return this.authService.isLoggedIn();\n  }\n}\n","import { NgModule } from \"@angular/core\";\r\nimport { Routes, RouterModule } from \"@angular/router\";\r\nimport { AuthGuard } from \"./auth/auth.guard\";\r\nimport { MailViewComponent } from \"./mail/components/mail-view/mail-view.component\";\r\nimport { MailFolderComponent } from \"./mail/containers/mail-folder/mail-folder.component\";\r\nimport { MailFolderResolve } from \"./mail/containers/mail-folder/mail-folder.resolve\";\r\nimport { RoutingComponent } from \"./routing.component\";\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: \"\",\r\n    component: RoutingComponent,\r\n    canActivate: [AuthGuard],\r\n    children: [\r\n      {\r\n        path: \"folder/:name\",\r\n        component: MailFolderComponent,\r\n        resolve: {\r\n          messages: MailFolderResolve,\r\n        },\r\n      },\r\n      {\r\n        path: \"message/:id\",\r\n        component: MailViewComponent,\r\n        outlet: \"pane\",\r\n      },\r\n      {\r\n        path: \"dashboard\",\r\n        canLoad: [AuthGuard],\r\n        loadChildren: () =>\r\n          import(\"./dashboard/dashboard.module\").then((m) => m.DashboardModule),\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  providers: [MailFolderResolve],\r\n  exports: [RouterModule],\r\n})\r\nexport class RoutingRoutingModule {}\r\n","import { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\nimport { MailItemComponent } from \"./components/mail-item/mail-item.component\";\r\nimport { MailFolderComponent } from \"./containers/mail-folder/mail-folder.component\";\r\nimport { RouterModule, Routes } from \"@angular/router\";\r\nimport { MailAppComponent } from \"./components/mail-app/mail-app.component\";\r\nimport { MailViewComponent } from \"./components/mail-view/mail-view.component\";\r\nimport { MailViewGuard } from \"./components/mail-view/mail-view.guard\";\r\n\r\nexport const ROUTES: Routes = [\r\n  {\r\n    path: \"**\",\r\n    redirectTo: \"folder/:name\",\r\n    component: MailFolderComponent,\r\n  },\r\n  {\r\n    path: \"message/:id\",\r\n    component: MailViewComponent,\r\n    canDeactivate: [MailViewGuard],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MailAppComponent,\r\n    MailItemComponent,\r\n    MailFolderComponent,\r\n    MailViewComponent,\r\n  ],\r\n  providers: [MailViewGuard],\r\n  imports: [CommonModule, RouterModule.forChild(ROUTES)],\r\n  exports: [MailAppComponent],\r\n})\r\nexport class MailModule {}\r\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Observable } from \"rxjs\";\nimport { Mail } from \"../models/mail.interface\";\nimport { pluck } from \"rxjs/operators\";\n\n@Component({\n  selector: \"app-mail-view\",\n  templateUrl: \"./mail-view.component.html\",\n  styleUrls: [\"./mail-view.component.css\"],\n})\nexport class MailViewComponent implements OnInit {\n  reply: string = \"\";\n  hasUnsavedChanges = false;\n  // message: Observable<Mail> = this.route.data?.pluck('message')\n\n  constructor(private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    this.route.params.subscribe(() => {\n      this.reply = \"\";\n      this.hasUnsavedChanges = false;\n    });\n  }\n\n  updateReply(value: any) {\n    this.reply = value;\n    this.hasUnsavedChanges = true;\n  }\n\n  sendReply() {\n    this.hasUnsavedChanges = false;\n  }\n}\n","<h1>mail-view works!</h1>\n<div class=\"mail-reply\">\n  <textarea\n    cols=\"30\"\n    rows=\"10\"\n    (change)=\"updateReply($event.target)\"\n    placeholder=\"Type your reply...\"\n    [value]=\"reply\"\n  ></textarea>\n  <button type=\"button\" (click)=\"sendReply()\">Send</button>\n</div>\n","import { Component, OnInit } from \"@angular/core\";\nimport { NavigationEnd, Router } from \"@angular/router\";\nimport { filter } from \"rxjs/operators\";\n\n@Component({\n  selector: \"app-routing\",\n  templateUrl: \"./routing.component.html\",\n  styleUrls: [\"./routing.component.css\"],\n})\nexport class RoutingComponent implements OnInit {\n  constructor(private readonly router: Router) {}\n\n  ngOnInit(): void {\n    this.router.events\n      .pipe(filter((route: any) => route instanceof NavigationEnd))\n      .subscribe((event) => {\n        console.log(\n          \"%cRoute events  \",\n          \"color: red; display: block; width: 100%;\",\n          event\n        );\n      });\n  }\n}\n","<p>routing works!</p>\r\n<h3>Resolve</h3>\r\n<p>Carga los datos previamente antes de navegar a una determinada ruta</p>\r\n<div class=\"app\">\r\n  <div class=\"app__content\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                [routerLink]=\"[\r\n                  { outlets: { primary: 'folder/inbox', pane: null } }\r\n                ]\"\r\n                routerLinkActive=\"active\"\r\n                >Inbox</a\r\n              >\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                [routerLink]=\"[\r\n                  { outlets: { primary: 'folder/trash', pane: null } }\r\n                ]\"\r\n                routerLinkActive=\"active\"\r\n                >Trash</a\r\n              >\r\n            </li>\r\n            <li class=\"nav-item\">\r\n              <a\r\n                class=\"nav-link\"\r\n                [routerLink]=\"['dashboard']\"\r\n                routerLinkActive=\"active\"\r\n                >Dashboard</a\r\n              >\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n    <app-mail-app></app-mail-app>\r\n    <!-- <router-outlet></router-outlet> -->\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: \"app-mail-app\",\n  templateUrl: \"./mail-app.component.html\",\n  styleUrls: [\"./mail-app.component.css\"],\n})\nexport class MailAppComponent implements OnInit {\n  constructor() {}\n\n  ngOnInit(): void {}\n\n  onActivate(event: any) {\n    console.log(\n      \"%cactivate \",\n      \"color: red; display: block; width: 100%;\",\n      event\n    );\n  }\n  onDeactivate(event: any) {\n    console.log(\n      \"%cactivate \",\n      \"color: red; display: block; width: 100%;\",\n      event\n    );\n  }\n}\n","<p>mail-app works!</p>\n<div class=\"mail\">\n  <router-outlet\n    (activate)=\"onActivate($event)\"\n    (deactivate)=\"onDeactivate($event)\"\n  >\n  </router-outlet>\n</div>\n<div class=\"mail\">\n  <h2>outlet pane</h2>\n  <router-outlet name=\"pane\"></router-outlet>\n</div>\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\n\nimport { RoutingRoutingModule } from \"./routing-routing.module\";\nimport { RoutingComponent } from \"./routing.component\";\nimport { MailModule } from \"./mail/mail.module\";\nimport { AuthModule } from \"./auth/auth.module\";\n\n@NgModule({\n  declarations: [RoutingComponent],\n  imports: [CommonModule, RoutingRoutingModule, MailModule, AuthModule],\n})\nexport class RoutingModule {}\n"],"sourceRoot":"webpack:///"}